<!--
  Generated template for the Player page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.

  style="background: #141e30; /* fallback for old browsers */
  background: -webkit-linear-gradient(to top, #000,#cb356b, #bd3f32); /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to top, #000,#cb356b, #bd3f32);text-align: center"


-->
<ion-header>

  <ion-navbar color="danger">
    <ion-title  center>{{musicservice.playingTrack.artist}}</ion-title>

    <ion-buttons end>
      <button (click)="togglePlaylist()" ion-button icon-only >
        <ion-icon [hidden]="playlist" name="list" style="opacity: 0.5"></ion-icon>
         <ion-icon [hidden]="!playlist" name="play" style="opacity: 0.5"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>

<div class="background-image" [style.backgroundImage]="'url(' + musicservice.audio.tracks[0].art + ')'"  ></div>




<ion-content [hidden]="playlist || !md.full"  style="background: rgba(0, 0, 0, 0.6) !important;text-align: center" >
  <ion-row style="height:100%" >

<ion-col col-6 style="text-align: center;height: 100%"> 

  <ion-row  (swipe)="swipePlay($event)" style="height: 100%">
    
<ion-col col-12 style="text-align: center;height: 100%;position: relative"> 
             <ion-icon (click)="playVideo()" *ngIf="musicservice.playingTrack.video" class="videologo" name="logo-youtube"></ion-icon>

  <img class="shadow" style="height: 100%" src={{musicservice.playingTrack.art}}>
</ion-col>

  </ion-row>
</ion-col>


<ion-col col-6 style="text-align: center;height: 100%"> 

  <ion-row style="height:50%">




<ion-col col-12 style="text-align: center">
       <h2 class="shadowt" style="text-overflow: ellipsis;overflow: hidden;color:white" >  {{musicservice.playingTrack.title}}
         </h2>
          
          <br>
<h2 class="shadowt"  style="text-overflow: ellipsis;overflow: hidden;color:azure">{{musicservice.playingTrack.artist}} - {{musicservice.playingTrack.album}} 
   
   </h2>
</ion-col>


<ion-col col-6  style="text-align: center">
       <button (click)="musicservice.favorite()" *ngIf="!musicservice.isFav()"  ion-button clear style="color:white" icon-only  > <ion-icon name="heart-outline"></ion-icon>{{musicservice.likeNum}}</button>
       <button (click)="musicservice.unFavorite()" *ngIf="musicservice.isFav()"  ion-button clear style="color:#bd3f32" icon-only  > <ion-icon name="heart"></ion-icon>{{musicservice.likeNum}}</button>

</ion-col>

<ion-col col-6 style="text-align: center">
       <button (click)="action()"  ion-button clear style="color:white" icon-only  > <ion-icon name="more"></ion-icon></button>

</ion-col>



  </ion-row>






  <ion-row style="height:20%">
    <ion-col col-12>
<audio-track-progress-bar progress duration [audioTrack]="musicservice.audio.tracks[0]" style="color:white">

</audio-track-progress-bar>
    </ion-col>
  </ion-row>



  <ion-row style="height:20%">


<ion-col col-3 style="text-align: center">
     <button (click)="musicservice.toggleShuffle()" *ngIf="musicservice.shuffle"  ion-button clear style="color:#bd3f32" icon-only  > <ion-icon name="shuffle"></ion-icon></button>
     <button (click)="musicservice.toggleShuffle()" *ngIf="!musicservice.shuffle"   ion-button clear style="color:white" icon-only  > <ion-icon name="shuffle"></ion-icon></button>

</ion-col>


<ion-col col-2 style="text-align: center">
  
     <button (click)="musicservice.prev()"  ion-button clear style="color:white" icon-only  > <ion-icon name="skip-backward"></ion-icon></button>

</ion-col>

<ion-col col-2 style="text-align: center">
  
  <audio-track-play class="large" [audioTrack]="musicservice.audio.tracks[0]" style="font-size: 150%">
          </audio-track-play>

</ion-col>

<ion-col col-2 style="text-align: center">
   <button (click)="musicservice.next()"  ion-button clear style="color:white" icon-only  > <ion-icon name="skip-forward"></ion-icon></button>

</ion-col>


<ion-col col-3 style="text-align: center">
   <button (click)="musicservice.toggleRepeat()" *ngIf="musicservice.repeat == 0"  ion-button clear style="color:white" icon-only  > <ion-icon name="repeat" ></ion-icon></button>

   <button (click)="musicservice.toggleRepeat()" *ngIf="musicservice.repeat == 1"  ion-button clear style="color:#bd3f32" icon-only  > <ion-icon name="repeat"></ion-icon></button>

   <button (click)="musicservice.toggleRepeat()" *ngIf="musicservice.repeat == 2"  ion-button clear style="color:#bd3f32" icon-only  >1 <ion-icon name="repeat"></ion-icon></button>

</ion-col>

  </ion-row>


</ion-col>

  </ion-row>

</ion-content>
































<ion-content  [hidden]="playlist || md.full"  style="background: rgba(0, 0, 0, 0.6) !important;text-align: center" >


  <ion-row style="height:60%" (swipe)="swipePlay($event)">
    
<ion-col col-12 style="text-align: center;height: 100%;position: relative"> 
             <ion-icon (click)="playVideo()" *ngIf="musicservice.playingTrack.video" class="videologo" name="logo-youtube"></ion-icon>

  <img class="shadow" style="height: 100%" src={{musicservice.playingTrack.art}}>
</ion-col>

  </ion-row>




  <ion-row style="height:15%">

<ion-col col-2  style="text-align: center">
       <button (click)="musicservice.favorite()" *ngIf="!musicservice.isFav()"  ion-button clear style="color:white" icon-only  > <ion-icon name="heart-outline"></ion-icon>{{musicservice.likeNum}}</button>
       <button (click)="musicservice.unFavorite()" *ngIf="musicservice.isFav()"  ion-button clear style="color:#cb356b" icon-only  > <ion-icon name="heart"></ion-icon>{{musicservice.likeNum}}</button>

</ion-col>




<ion-col col-8 style="text-align: center">
       <button  ion-button block clear style="color:white;height: 50% !important;font-size: 1.6rem" (click)="gotoalbum()" >
         <span class="shadowt" style="text-overflow: ellipsis;overflow: hidden" >  {{musicservice.playingTrack.title}}
         </span>
          </button>
          
          <br>
<button  ion-button block clear style="color:#AAA;height: 50% !important"  (click)="gotoartist()" >
   <span  class="shadowt"  style="text-overflow: ellipsis;overflow: hidden;color:azure">{{musicservice.playingTrack.artist}} - {{musicservice.playingTrack.album}} 
   </span>
   </button>
</ion-col>


<ion-col col-2 style="text-align: center">
       <button (click)="action()"  ion-button clear style="color:white" icon-only  > <ion-icon name="more"></ion-icon></button>

</ion-col>

  </ion-row>






  <ion-row style="height:15%">
    <ion-col col-12>
<audio-track-progress-bar progress duration [audioTrack]="musicservice.audio.tracks[0]" style="color:white">

</audio-track-progress-bar>
    </ion-col>
  </ion-row>



  <ion-row style="height:10%">


<ion-col col-3 style="text-align: center">
     <button (click)="musicservice.toggleShuffle()" *ngIf="musicservice.shuffle"  ion-button clear style="color:#cb356b" icon-only  > <ion-icon name="shuffle"></ion-icon></button>
     <button (click)="musicservice.toggleShuffle()" *ngIf="!musicservice.shuffle"   ion-button clear style="color:white" icon-only  > <ion-icon name="shuffle"></ion-icon></button>

</ion-col>


<ion-col col-2 style="text-align: center">
  
     <button (click)="musicservice.prev()"  ion-button clear style="color:white" icon-only  > <ion-icon name="skip-backward"></ion-icon></button>

</ion-col>

<ion-col col-2 style="text-align: center">
  
  <audio-track-play class="large" [audioTrack]="musicservice.audio.tracks[0]" style="font-size: 150%">
          </audio-track-play>

</ion-col>

<ion-col col-2 style="text-align: center">
   <button (click)="musicservice.next()"  ion-button clear style="color:white" icon-only  > <ion-icon name="skip-forward"></ion-icon></button>

</ion-col>


<ion-col col-3 style="text-align: center">
   <button (click)="musicservice.toggleRepeat()" *ngIf="musicservice.repeat == 0"  ion-button clear style="color:white" icon-only  > <ion-icon name="repeat" ></ion-icon></button>

   <button (click)="musicservice.toggleRepeat()" *ngIf="musicservice.repeat == 1"  ion-button clear style="color:#cb356b" icon-only  > <ion-icon name="repeat"></ion-icon></button>

   <button (click)="musicservice.toggleRepeat()" *ngIf="musicservice.repeat == 2"  ion-button clear style="color:#cb356b" icon-only  >1 <ion-icon name="repeat"></ion-icon></button>

</ion-col>

  </ion-row>

</ion-content>










<ion-content [hidden]="!playlist" style="background: rgba(0, 0, 0, 0.6) !important;text-align: center">

  <ion-item block clear  style="background-color: transparent;color:white">
    
    <h2>{{ 'nowPlaying' | translate}}</h2>
 
  </ion-item>

 <ion-list no-lines style="background-color: transparent">
  <ion-item *ngFor="let track of musicservice.tracks;let i=index" [hidden]="i != musicservice.current" block clear  style="background-color: transparent;color:white" (click)="play(i)">
    <ion-avatar item-left>
      <img src="{{track.art}}">
    </ion-avatar>
    <h2>{{track.title}}</h2>
    <p style="color:white">{{track.artist}}</p>

     <ion-icon name="play" style="opacity: 0.8;color:#cb356b" item-left ></ion-icon>

  </ion-item>
</ion-list>

<hr>

 <ion-list no-lines style="background-color: transparent">
  <ion-item *ngFor="let track of musicservice.tracks;let i=index" [hidden]="i == musicservice.current" block clear  style="background-color: transparent;color:white" (click)="play(i)">
    <ion-avatar item-left>
      <img src="{{track.art}}">
    </ion-avatar>
    <h2>{{track.title}}</h2>
    <p style="color:white">{{track.artist}}</p>
  </ion-item>

    <ion-item style="background-color: transparent;color:white" ></ion-item>

</ion-list>





</ion-content>








<ion-footer [hidden]="!playlist"  style="
  background-color: #000000 !important;  /* fallback for old browsers */
background-color: -webkit-linear-gradient(to bottom, #141e30, #000000) !important;  /* Chrome 10-25, Safari 5.1-6 */
background-color: linear-gradient(to bottom, #141e30, #000000) !important; /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
">

      <div *ngIf="tracks" style="height: 3px;z-index: 9999;background-color:#cb356b"
      [style.width.%]="musicservice.progress()"></div>
      
       

<ion-row>

  <ion-col col-8 >

<button  ion-button clear block  small style="color: white;">

<span style="overflow: hidden;text-overflow: ellipsis">
 {{musicservice.audio.tracks[0].title}} -  
{{musicservice.audio.tracks[0].artist}}
</span>

</button>




  </ion-col>

  <ion-col col-4 style="text-align: right">

<!-- <button (click)="prevTrack(selectedTrack)" ion-button color="dark" icon-only small > <ion-icon name="skip-backward"></ion-icon></button>
-->
          <audio-track-play light [audioTrack]="musicservice.audio.tracks[0]" style="font-size: 150%">
          </audio-track-play>


   

  
 <button (click)="musicservice.next()" small ion-button clear style="color:white" icon-only  > <ion-icon name="skip-forward"></ion-icon></button>
 

  </ion-col>
</ion-row>




         


         


  
 




</ion-footer>